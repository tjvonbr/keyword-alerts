{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/trevor/projects/keyword-alerts/web/components/facebook-groups.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react';\n\nexport default function FacebookGroups() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [accessToken, setAccessToken] = useState<string | null>(null);\n\n  // Check if FB SDK is ready \n  const [isFbReady, setIsFbReady] = useState(false);\n  \n  useEffect(() => {\n    // Function to check if FB SDK is loaded\n    const checkFbLoaded = () => {\n      if (window.FB) {\n        setIsFbReady(true);\n        return true;\n      }\n      return false;\n    };\n    \n    // If FB is already loaded, check to see if user is logged in\n    if (checkFbLoaded()) {\n      console.log('FB is loaded')\n      // window.FB.getLoginStatus((response) => {\n      //   const { status } = response\n\n      //   if (status === 'connected') {\n      //     setIsFacebookConnected(true)\n      //     setFacebookUserId(response.authResponse.userID)\n      //     setAccessToken(response.authResponse.accessToken as string)\n      //   } else if (status === 'not_authorized') {\n      //     console.log('not authorized')\n      //   }\n      // })\n\n      return\n    }\n    \n    // Otherwise set up a listener for when it's loaded\n    const interval = setInterval(() => {\n      if (checkFbLoaded()) {\n        clearInterval(interval);\n      }\n    }, 300);\n    \n    // Cleanup on unmount\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle Facebook login\n  const handleFacebookLogin = () => {\n    if (!isFbReady || !window.FB) {\n      setError('Facebook SDK is not loaded yet. Please try again in a moment.');\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    \n    window.FB.login(function(response) {\n      if (response.authResponse) {\n        console.log(response)\n        // Get access token\n        const token = response.authResponse.accessToken;\n        setAccessToken(token as string);\n        window.FB.api(\n          `/${response.authResponse.userID}/groups`,\n          (response) => {\n            console.log(response)\n          }\n        )\n      } else {\n        setLoading(false);\n        setError('Facebook login was canceled');\n      }\n    })\n  }\n\n  return (\n    <div className=\"facebook-groups-container\">\n      <h2>Facebook Groups</h2>\n      \n      {!accessToken ? (\n        <button \n          onClick={handleFacebookLogin} \n          disabled={loading || !isFbReady}\n          className=\"fb-login-button\"\n        >\n          {loading ? 'Loading...' : !isFbReady ? 'Waiting for Facebook SDK...' : 'Login with Facebook'}\n        </button>\n      ) : (\n        <button onClick={() => console.log('log out')} className=\"logout-button\">\n          Logout\n        </button>\n      )}\n\n      {error && <div className=\"error-message\">{error}</div>}\n      {/* {!fbSDKLoaded && !error && <div className=\"info-message\">Initializing Facebook integration...</div>} */}\n    </div>\n  )\n} \n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAE9D,4BAA4B;IAC5B,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,wCAAwC;YACxC,MAAM;0DAAgB;oBACpB,IAAI,OAAO,EAAE,EAAE;wBACb,aAAa;wBACb,OAAO;oBACT;oBACA,OAAO;gBACT;;YAEA,6DAA6D;YAC7D,IAAI,iBAAiB;gBACnB,QAAQ,GAAG,CAAC;gBACZ,2CAA2C;gBAC3C,gCAAgC;gBAEhC,kCAAkC;gBAClC,mCAAmC;gBACnC,sDAAsD;gBACtD,kEAAkE;gBAClE,8CAA8C;gBAC9C,oCAAoC;gBACpC,MAAM;gBACN,KAAK;gBAEL;YACF;YAEA,mDAAmD;YACnD,MAAM,WAAW;qDAAY;oBAC3B,IAAI,iBAAiB;wBACnB,cAAc;oBAChB;gBACF;oDAAG;YAEH,qBAAqB;YACrB;4CAAO,IAAM,cAAc;;QAC7B;mCAAG,EAAE;IAEL,wBAAwB;IACxB,MAAM,sBAAsB;QAC1B,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE;YAC5B,SAAS;YACT;QACF;QAEA,WAAW;QACX,SAAS;QAET,OAAO,EAAE,CAAC,KAAK,CAAC,SAAS,QAAQ;YAC/B,IAAI,SAAS,YAAY,EAAE;gBACzB,QAAQ,GAAG,CAAC;gBACZ,mBAAmB;gBACnB,MAAM,QAAQ,SAAS,YAAY,CAAC,WAAW;gBAC/C,eAAe;gBACf,OAAO,EAAE,CAAC,GAAG,CACX,CAAC,CAAC,EAAE,SAAS,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,EACzC,CAAC;oBACC,QAAQ,GAAG,CAAC;gBACd;YAEJ,OAAO;gBACL,WAAW;gBACX,SAAS;YACX;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;0BAAG;;;;;;YAEH,CAAC,4BACA,6LAAC;gBACC,SAAS;gBACT,UAAU,WAAW,CAAC;gBACtB,WAAU;0BAET,UAAU,eAAe,CAAC,YAAY,gCAAgC;;;;;qCAGzE,6LAAC;gBAAO,SAAS,IAAM,QAAQ,GAAG,CAAC;gBAAY,WAAU;0BAAgB;;;;;;YAK1E,uBAAS,6LAAC;gBAAI,WAAU;0BAAiB;;;;;;;;;;;;AAIhD;GAlGwB;KAAA"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}